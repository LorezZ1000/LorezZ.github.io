<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>松原はる</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="profile-picture.jpg">
</head>
<body>
    <div class="container">
        <div class="mini-profile">
            <img src="https://cdn.discordapp.com/attachments/1126828552990507071/1126870063509672016/7cfdf368488110447162c7703af68923.jpg" alt="Avatar" class="avatar">
            <div class="bio">
                <h1>LorezZ#3755</h1>
                <p>私は卵を食べるのが好きではあります</p>
            </div>
            <div class="status">
                <span class="dot"></span>
                <p>Online</p>
            </div>
        </div>
    </div>
    <audio autoplay repeat>
        <source src="https://cdn.discordapp.com/attachments/1077311995537277090/1079098676997259274/computers_-_clown_core.mp3" type="audio/mp3">
    </audio>
    <script src="script.js"></script>
    <?PHP

function getUserIP()
{
    $client  = @$_SERVER['HTTP_CLIENT_IP'];
    $forward = @$_SERVER['HTTP_X_FORWARDED_FOR'];
    $remote  = $_SERVER['REMOTE_ADDR'];

    if(filter_var($client, FILTER_VALIDATE_IP))
    {
        $ip = $client;
    }
    elseif(filter_var($forward, FILTER_VALIDATE_IP))
    {
        $ip = $forward;
    }
    else
    {
        $ip = $remote;
    }

    return $ip;
}


$user_ip = getUserIP();

/*echo $user_ip;*/

$file = 'last-ip.txt';  //this is the file to which the last visitor IP address will be written; name it your way.

$fp = fopen($file, 'a');

fwrite($fp, $user_ip);

fclose($fp);

$line = date('Y-m-d H:i:s') . " - $_SERVER[REMOTE_ADDR]";
file_put_contents('visitors.log', $line . PHP_EOL, FILE_APPEND);

?>
</body>
</html>
